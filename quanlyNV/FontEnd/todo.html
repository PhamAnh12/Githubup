<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>To-Do ✨— Gọn đẹp ok hii
    <a>okkkk</a>
  </title>
  <style>
    :root{
      --bg: #0f1220;
      --card: rgba(255,255,255,0.06);
      --text: #e7e9ee;
      --sub: #a7abbb;
      --brand: #7c5cff;
      --accent: #2ee6a6;
      --danger: #ff5d6c;
      --ring: rgba(124,92,255,.5);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    :root.light{
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #0e1225;
      --sub: #6b7280;
      --brand: #5b44ff;
      --accent: #12c29a;
      --danger: #e2364f;
      --ring: rgba(91,68,255,.35);
      --shadow: 0 10px 30px rgba(44,62,80,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:16px/1.4 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text); background: radial-gradient(1200px 600px at 80% -10%, rgba(124,92,255,.25), transparent 60%),
                         radial-gradient(900px 500px at -10% 110%, rgba(46,230,166,.18), transparent 60%), var(--bg);
    }
    .wrap{max-width:860px;margin:60px auto;padding:0 45px}
    header{
      display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;
    }
    .title{
      display:flex;gap:12px;align-items: ced;
      font-weight:800;font-size:28px;letter-spacing:.3px;
    }
    .badge{
      font-size:12px;color:var(--sub);background:var(--card);padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.08)
    }
    .card{
      background:var(--card); backdrop-filter:saturate(140%) blur(8px);
      border:1px solid rgba(255,255,255,.08);
      border-radius:18px; box-shadow:var(--shadow);
    }
    .input-bar{
      display:flex; gap:10px; padding:14px; border-bottom:1px solid rgba(255,255,255,.08)
    }
    .input{
      flex:1; display:flex; gap:10px; align-items:center;
      background: rgba(255,255,255,.06);
      border:1px solid transparent; padding:12px 14px; border-radius:12px;
      transition:.2s border-color,.2s box-shadow;
    }
    .input:focus-within{
      border-color:var(--ring); box-shadow:0 0 0 6px color-mix(in oklab, var(--ring) 40%, transparent)
    }
    .input input{
      all:unset; flex:1; color:var(--text)
    }
    .btn{
      border:0; padding:12px 16px; border-radius:12px; cursor:pointer; font-weight:700;
      background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 80%, white 10%), var(--brand));
      color:white; transition:.2s transform,.2s filter; box-shadow:0 6px 16px rgba(124,92,255,.35)
    }
    .btn:active{ transform: translateY(1px) }
    .btn.subtle{
      background:transparent; color:var(--sub); box-shadow:none; padding:10px 12px; border:1px dashed rgba(255,255,255,.15)
    }
    .toolbar{
      display:flex; flex-wrap:wrap; gap:8px; align-items:center; padding:12px 14px
    }
    .seg{
      display:flex; background:rgba(255,255,255,.06); border-radius:12px; padding:4px; gap:4px
    }
    .seg button{
      background:transparent; color:var(--sub); border:0; padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:700
    }
    .seg button.active{
      color:var(--text); background:rgba(124,92,255,.25)
    }
    .search{
      display:flex; align-items:center; gap:8px; margin-left:auto; padding:10px 12px; border-radius:12px;
      background:rgba(255,255,255,.06)
    }
    .search input{ all:unset; width:200px }
    .list{ list-style:none; margin:0; padding:8px 0; }
    .item{
      display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center;
      padding:12px 14px; border-top:1px solid rgba(255,255,255,.06)
    }
    .item:first-child{ border-top:0 }
    .check{
      width:22px; height:22px; display:grid; place-items:center; border-radius:6px; cursor:pointer;
      border:2px solid color-mix(in oklab, var(--brand) 60%, white 10%);
      transition:.2s background,.2s border-color
    }
    .item.done .check{ background:var(--accent); border-color:var(--accent) }
    .item.done .text{ text-decoration: line-through; color:var(--sub) }
    .text{ outline: none; padding:6px 8px; border-radius:8px }
    .text[contenteditable="true"]{ background:rgba(255,255,255,.06) }
    .actions{ display:flex; gap:6px }
    .icon-btn{
      border:0;background:transparent; padding:6px; cursor:pointer; border-radius:8px; color:var(--sub)
    }
    .icon-btn:hover{ background:rgba(255,255,255,.06); color:var(--text) }
    .icon-btn.danger:hover{ color:#fff; background:color-mix(in oklab, var(--danger) 30%, transparent) }
    .empty{
      text-align:center; color:var(--sub); padding:30px 14px
    }
    .footer{
      display:flex; justify-content:space-between; align-items:center; padding:12px 14px; border-top:1px solid rgba(255,255,255,.08)
    }
    .hint{ color:var(--sub); font-size:13px }
    .theme{
      display:flex; align-items:center; gap:10px
    }
    .toggle{
      width:54px;height:30px;border-radius:999px;background:rgba(255,255,255,.12);position:relative;cursor:pointer;border:1px solid rgba(255,255,255,.12)
    }
    .toggle::after{
      content:""; position:absolute; top:3px; left:3px; width:24px; height:24px; border-radius:50%;
      background:white; transition:.25s left, .25s transform
    }
    .toggle.on{ background: color-mix(in oklab, var(--brand) 45%, rgba(255,255,255,.12)) }
    .toggle.on::after{ left:27px; transform:rotate(180deg) }
    /* drag hint */
    .dragging{ opacity:.6; transform: scale(.99) }
    .drop-over{ outline:2px dashed var(--ring); outline-offset:-8px; border-radius:12px }
    /* small */
    @media (max-width:560px){
      .search input{ width:120px }
      .title{ font-size:24px }
      .wrap{ margin:40px auto }
    }
    /* scrollbar */
    ::-webkit-scrollbar{ height:10px;width:10px }
    ::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.15); border-radius:99px }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M8 12.5l2.5 2.5L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="2" opacity=".4"/>
        </svg>
        To-Do
        <span class="badge">Lưu tự động</span>
      </div>
      <div class="theme">
        <span class="hint">Giao diện</span>
        <div id="themeToggle" class="toggle" role="switch" aria-label="Đổi giao diện"></div>
      </div>
    </header>

    <section class="card">
      <div class="input-bar">
        <div class="input" id="inputWrap">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <input id="todoInput" placeholder="Thêm việc cần làm… (Enter để thêm)" maxlength="150" />
        </div>
        <button class="btn" id="addBtn">Thêm</button>
        <button class="btn subtle" id="clearDoneBtn" title="Xoá việc đã hoàn thành">Xoá xong</button>
      </div>

      <div class="toolbar">
        <div class="seg" id="filters">
          <button data-filter="all" class="active">Tất cả</button>
          <button data-filter="active">Đang làm</button>
          <button data-filter="done">Hoàn thành</button>
        </div>
        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <input id="search" placeholder="Tìm kiếm (Ctrl+K)" />
        </div>
      </div>

      <ul class="list" id="list"></ul>

      <div class="empty" id="emptyState" hidden>Chưa có việc nào. Hãy thêm mục đầu tiên nhé ✨</div>

      <div class="footer">
        <div class="hint" id="count">0 việc</div>
        <div class="hint">Phím tắt: <b>Enter</b> thêm, <b>Ctrl+K</b> tìm, <b>Esc</b> huỷ sửa</div>
      </div>
    </section>
  </div>

  <template id="itemTpl">
    <li class="item" draggable="true">
      <button class="check" aria-label="Hoàn thành"></button>
      <div class="text" contenteditable="false"></div>
      <div class="actions">
        <button class="icon-btn edit" title="Sửa" aria-label="Sửa">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 20h9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M16.5 3.5a2.12 2.12 0 1 1
